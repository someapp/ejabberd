# $Id: Makefile.in 2842 2009-12-29 19:10:52Z badlop $

CC = @CC@
CFLAGS = @CFLAGS@
CPPFLAGS = @CPPFLAGS@
LDFLAGS = @LDFLAGS@
LIBS = @LIBS@

ASN_FLAGS = -bber_bin +optimize +binary_strings

ERLANG_CFLAGS = @ERLANG_CFLAGS@
ERLANG_LIBS = @ERLANG_LIBS@

EFLAGS += @ERLANG_SSLVER@
EFLAGS += -I ..
EFLAGS += -pz ..
EFLAGS += +warn_unused_vars +nowarn_shadow_vars +warn_unused_import

# make debug=true to compile Erlang module with debug informations.
ifdef debug
	EFLAGS+=+debug_info
endif

OUTDIR = ..
SOURCES = $(wildcard *.erl)
BEAMS = $(addprefix $(OUTDIR)/,$(SOURCES:.erl=.beam))


all:    $(BEAMS) 

$(OUTDIR)/%.beam: @ERLC@ -W $(EFLAGS) -o $(OUTDIR) $<

clean:
	rm -f $(BEAMS)

distclean: clean
	rm -f Makefile

TAGS:
	etags *.erl


Makefile: Makefile.in

dialyzer: $(BEAMS)
	@dialyzer -c . 
	
test:
         erl -noshell -pa ebin -eval 'eunit:test("ebin",[verbose])' -s init stop

	
